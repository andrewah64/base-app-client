{{ define "title" }}
	{{ $hasRoleWebCoreS2cTntMod := .HasRole "role_web_core_auth_s2c_tnt_mod" }}
	{{ if $hasRoleWebCoreS2cTntMod }}
		{{.T "web-core-auth-s2c-tnt-page.title-edit"}}
	{{ else }}
		{{.T "web-core-auth-s2c-tnt-page.title-view"}}
	{{ end }}
{{ end }}

{{ define "content" }}
	{{ $hasRoleWebCoreS2cTntMod := .HasRole "role_web_core_auth_s2c_tnt_mod" }}
	{{ $tft                     := .TFT }}

	<div id="content">
		{{if .HasRole "role_web_core_auth_s2c_tnt_inf"}}
		<div class="grid grid-cols-1 grid-rows-2 mb-8 border-b border-gray-200 pb-5">
			<div class="col-start-1 row-start-1">
				<h2 class="text-base font-semibold text-gray-900">
					{{ if $hasRoleWebCoreS2cTntMod }}
						{{.T "web-core-auth-s2c-tnt-page.header-edit"}}
					{{ else }}
						{{.T "web-core-auth-s2c-tnt-page.header-view"}}
					{{ end }}
				</h2>
			</div>
			<div class="col-start-1 row-start-2">
				<p class="mt-2 max-w-4xl text-sm text-gray-500">
					{{ if $hasRoleWebCoreS2cTntMod }}
						{{.T "web-core-auth-s2c-tnt-page.descr-edit"}}
					{{ else }}
						{{.T "web-core-auth-s2c-tnt-page.descr-view"}}
					{{ end }}
				</p>
			</div>
		</div>

		<div _="install TabContainer">
			<div role="tablist"
			     class="-mb-px flex pb-10">
				<button role="tab"
					id="tab-s2c-gen"
					aria-controls="panel-s2c-gen"
					class="w-1/4 border-b-2 border-transparent px-1 py-4 text-center text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
					Service Provider : General Information
				</button>
				<button role="tab"
					id="tab-s2c-cdf"
					aria-controls="panel-s2c-cdf"
					class="w-1/4 border-b-2 border-transparent px-1 py-4 text-center text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
					Service Provider : New certificate settings
				</button>
				<button role="tab"
					id="tab-s2c-spc"
					aria-controls="panel-s2c-spc"
					class="w-1/4 border-b-2 border-transparent px-1 py-4 text-center text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
					Service provider : certificates
				</button>
				<button role="tab"
					id="tab-s2c-idp"
					aria-controls="panel-s2c-idp"
					class="w-1/4 border-b-2 border-transparent px-1 py-4 text-center text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
					Identity provider : configuration
				</button>
			</div>

			<div role="tabpanel"
			     id="panel-s2c-gen"
			     aria-labelledby="tab-s2c-gen"
			     hidden>
				{{ $s2c := (index .ResultSet.S2c 0)}}
				<div class="pb-[100px]">
					{{if $hasRoleWebCoreS2cTntMod}}
					<form hx-patch="/web/core/auth/s2c/tnt/gen"
					      hx-swap="none">
					{{end}}
						<div>
							<div id="s2c-tnt-mod-gen-uts-ctr">
								<input id="s2c-tnt-mod-gen-uts"
								       name="s2c-tnt-mod-gen-uts"
								       type="hidden"
								       value="{{ $s2c.Uts.Format $tft }}">
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label for="s2c-tnt-mod-gen-aum-id"
												       class="block text-sm/6 font-medium text-gray-900">
													{{ .T "web-core-auth-s2c-tnt-mod-gen-form.label-aum-id" }}
												</label>
												<div class="mt-2">
													{{if $hasRoleWebCoreS2cTntMod}}
													<select name="s2c-tnt-mod-gen-aum-id"
														id="s2c-tnt-mod-gen-aum-id"
														class="w-full appearance-none rounded-md bg-white py-1.5 pr-8 pl-3 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
														{{ range $aum := .FormOpts.Opts.aum }}
														<option value="{{$aum.Id}}" {{if eq $aum.Id $s2c.AumId}}selected{{end}}>{{ $aum.Value }}</option>
														{{ end }}
													</select>
													{{else}}
													<span id="s2c-tnt-mod-gen-aum-nm"
													      class="sm:text-sm/6">
														{{ range $aum := .FormOpts.Opts.aum }}
															{{if eq $aum.Id $s2c.AumId}}
																{{$aum.Value}}
															{{end}}
														{{ end }}
													</span>
													{{end}}
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label for="s2c-tnt-mod-gen-entity-id"
												       class="block text-sm/6 font-medium text-gray-900">
													{{if $hasRoleWebCoreS2cTntMod}}
														{{ .T "web-core-auth-s2c-tnt-mod-gen-form.label-entity-id" }}
													{{end}}
												</label>
												<div class="mt-2">
													{{if $hasRoleWebCoreS2cTntMod}}
														<input type="text"
														       name="s2c-tnt-mod-gen-entity-id"
														       id="s2c-tnt-mod-gen-entity-id"
														       value="{{$s2c.S2cEntityId}}"
														       required
														       class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
													{{else}}
														<span id="s2c-tnt-mod-gen-entity-id"
														      class="sm:text-sm/6">
															{{$s2c.S2cEntityId}}
														</span>
													{{end}}
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label for="s2c-tnt-mod-gen-enabled"
												       class="block text-sm/6 font-medium text-gray-900">
													{{ .T "web-core-auth-s2c-tnt-mod-gen-form.label-enabled" }}
												</label>
												<div class="mt-2 flex h-6 shrink-0 items-center">
													<div class="group grid size-4 grid-cols-1">
														<input id="s2c-tnt-mod-gen-enabled"
														       name="s2c-tnt-mod-gen-enabled"
														       type="checkbox"
														       value="true"
														       {{if $s2c.S2cEnabled}}checked{{end}}
														       {{if not $hasRoleWebCoreS2cTntMod}}disabled{{end}}
														       class="col-start-1 row-start-1 appearance-none rounded-sm border border-gray-300 bg-white checked:border-indigo-600 checked:bg-indigo-600 indeterminate:border-indigo-600 indeterminate:bg-indigo-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
														<svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25"
														     viewBox="0 0 14 14"
														     fill="none">
															<path class="opacity-0 group-has-checked:opacity-100"
															      d="M3 8L6 11L11 3.5"
															      stroke-width="2"
															      stroke-linecap="round"
															      stroke-linejoin="round" />
															<path class="opacity-0 group-has-indeterminate:opacity-100"
															      d="M3 7H11"
															      stroke-width="2"
															      stroke-linecap="round"
															      stroke-linejoin="round" />
														</svg>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label class="block text-sm/6 font-medium text-gray-900">
													{{.T "web-core-auth-s2c-tnt-mod-gen-form.label-acs-url"}}
												</label>
												<div class="mt-2">
													<span id="s2c-tnt-mod-epp-acs-pt"
													      class="sm:text-sm/6">
														{{$s2c.EppAcsPt}}
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label class="block text-sm/6 font-medium text-gray-900">
													{{.T "web-core-auth-s2c-tnt-mod-gen-form.label-mtd-url"}}
												</label>
												<div class="mt-2">
													<span id="s2c-tnt-mod-epp-mtd-pt"
													      class="sm:text-sm/6">
														{{$s2c.EppMtdPt}}
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					{{if $hasRoleWebCoreS2cTntMod}}
						<div class="fixed bottom-0 left-0 w-full h-[100px] bg-white flex items-center justify-end pr-4 border-t border-gray-200">
							<button type="submit"
								class="relative flex rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
								<img class="htmx-indicator htmx-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
								     src="/static/img/spinner-white.svg">
								<span class="htmx-indicator htmx-text">
									{{.T "web-core-auth-s2c-tnt-mod-gen-form.submit-button-label"}}
								</span>
							</button>
						</div>
					</form>
					{{end}}
				</div>
			</div>
			<div role="tabpanel"
			     id="panel-s2c-cdf"
			     aria-labelledby="tab-s2c-cdf"
			     hidden>
				{{ $s2g := (index .ResultSet.S2g 0)}}
				<div class="pb-[100px]">
					{{if $hasRoleWebCoreS2cTntMod}}
					<form hx-patch="/web/core/auth/s2c/tnt/cdf"
					      hx-swap="none">
					{{end}}
						<div>
							<div id="s2g-tnt-mod-cdf-uts-ctr">
								<input id="s2g-tnt-mod-cdf-uts"
								       name="s2g-tnt-mod-cdf-uts"
								       type="hidden"
								       value="{{ $s2g.Uts.Format $tft }}">
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label for="s2g-tnt-mod-cdf-crt-cn"
												       class="block text-sm/6 font-medium text-gray-900">
													{{if $hasRoleWebCoreS2cTntMod}}
														{{ .T "web-core-auth-s2c-tnt-mod-cdf-form.label-crt-cn" }}
													{{end}}
												</label>
												<div class="mt-2">
													{{if $hasRoleWebCoreS2cTntMod}}
														<input type="text"
														       name="s2g-tnt-mod-cdf-crt-cn"
														       id="s2g-tnt-mod-cdf-crt-cn"
														       value="{{$s2g.S2gCrtCn}}"
														       required
														       class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
													{{else}}
														<span id="s2g-tnt-mod-cdf-crt-cn"
														      class="sm:text-sm/6">
															{{$s2g.S2gCrtCn}}
														</span>
													{{end}}
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="pb-2">
								<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
									<div class="sm:col-span-3">
										<div class="grid grid-cols-1">
											<div class="col-start-1">
												<label for="s2c-tnt-mod-gen-entity-id"
												       class="block text-sm/6 font-medium text-gray-900">
													{{if $hasRoleWebCoreS2cTntMod}}
														{{ .T "web-core-auth-s2c-tnt-mod-cdf-form.label-crt-org" }}
													{{end}}
												</label>
												<div class="mt-2">
													{{if $hasRoleWebCoreS2cTntMod}}
														<input type="text"
														       name="s2g-tnt-mod-cdf-crt-org"
														       id="s2g-tnt-mod-cdf-crt-org"
														       value="{{$s2g.S2gCrtOrg}}"
														       required
														       class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
													{{else}}
														<span id="s2g-tnt-mod-cdf-crt-org"
														      class="sm:text-sm/6">
															{{$s2g.S2gCrtOrg}}
														</span>
													{{end}}
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					{{if $hasRoleWebCoreS2cTntMod}}
						<div class="fixed bottom-0 left-0 w-full h-[100px] bg-white flex items-center justify-end pr-4 border-t border-gray-200">
							<button type="submit"
								class="relative flex rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
								<img class="htmx-indicator htmx-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
								     src="/static/img/spinner-white.svg">
								<span class="htmx-indicator htmx-text">
									{{.T "web-core-auth-s2c-tnt-mod-cdf-form.submit-button-label"}}
								</span>
							</button>
						</div>
					</form>
					{{end}}
				</div>
			</div>
			<div role="tabpanel"
			     id="panel-s2c-spc"
			     aria-labelledby="tab-s2c-spc"
			     hidden>
				Certificates
			</div>
			<div role="tabpanel"
			     id="panel-s2c-idp"
			     aria-labelledby="tab-s2c-idp"
			     hidden>
				Identity providers
			</div>
		</div>
		{{end}}
	</div>
{{ end }}
