{{ define "title" }}
	{{ $aurNm := (index .ResultSet.Inf 0).AurNm }}

	{{.T "web-core-auth-pwd-aur-tnt-page.title" "aurNm" $aurNm }}
{{ end }}

{{ define "content" }}
<div id="content">
	{{if .HasRole "role_web_core_auth_pwd_aur_tnt_mod"}}
		{{ $inf := index .ResultSet.Inf 0 }}
		<div class="grid grid-cols-2 grid-rows-2 border-b border-gray-200 pb-5 mb-5">
			<div class="col-start-1 row-start-1">
				<h2 class="text-base font-semibold text-gray-900">
					{{.T "web-core-auth-pwd-aur-tnt-mod-form.header" "aurNm" $inf.AurNm}}
				</h2>
			</div>
			<div class="col-start-1 row-start-2">
				<p class="mt-2 max-w-4xl text-sm text-gray-500">
					{{.T "web-core-auth-pwd-aur-tnt-mod-form.descr"}}
				</p>
			</div>
		</div>

		<div class="pb-2">
			<form id="pwd-aur-tnt-mod-form"
			      hx-patch="/web/core/auth/pwd/aur/tnt/{{$inf.AurId}}"
			      hx-swap="none">
				<div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
					<div class="sm:col-span-3">
						<div>
							<div class="mt-2">
								<label for="pwd-aur-tnt-mod-aur-pwd"
								       class="block text-sm/6 font-medium text-gray-900">
										{{.T "web-core-auth-pwd-aur-tnt-mod-form.label-input-aur-pwd"}}
								</label>
							</div>
							<div class="mt-2">
								<ul class="grid grid-cols-1 mt-2 max-w-4xl text-sm text-gray-500">
									<li class="grid grid-cols-2 grid-rows-1"><span class="col-start-1">{{.T "web-core-auth-pwd-aur-tnt-mod-form.label-aur-pwd-len" "min" (printf "%d" $inf.AupcAurPwdMinLen) "max" (printf "%d" $inf.AupcAurPwdMaxLen) }}</span><span id="pwd-aur-tnt-val-aur-pwd-len"></span></li>
									{{if $inf.AupcAurPwdIncSym}}
									<li class="grid grid-cols-2 grid-rows-1"><span class="col-start-1">{{.T "web-core-auth-pwd-aur-tnt-mod-form.label-aur-pwd-sym"}}</span><span id="pwd-aur-tnt-val-aur-pwd-inc-sym"></span></li>
									{{end}}
									{{if $inf.AupcAurPwdIncNum}}
									<li class="grid grid-cols-2 grid-rows-1"><span class="col-start-1">{{.T "web-core-auth-pwd-aur-tnt-mod-form.label-aur-pwd-num"}}</span><span id="pwd-aur-tnt-val-aur-pwd-inc-num"></span></li>
									{{end}}
								</ul>
							</div>
							<div class="mt-2">
								<input type="password"
								       name="pwd-aur-tnt-mod-aur-pwd"
								       id="pwd-aur-tnt-mod-aur-pwd"
								       minlength="{{$inf.AupcAurPwdMinLen}}"
								       maxlength="{{$inf.AupcAurPwdMaxLen}}"
								       required
								       hx-get="/web/core/auth/pwd/aur/tnt/val"
								       hx-trigger="change, keyup delay:200ms"
								       hx-push-url="false"
								       class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
							</div>
						</div>
						<div class="fixed bottom-0 left-0 w-full h-[100px] bg-white flex items-center justify-end pr-4 border-t border-gray-200">
							<button class="relative flex rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
								<img class="htmx-indicator htmx-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
								     src="/static/img/spinner-white.svg"
								     alt="Progress indicator">
								<span class="htmx-indicator htmx-text">
									{{.T "web-core-auth-pwd-aur-tnt-mod-form.label-submit-button"}}
								</span>
							</button>
						</div>
					</div>
				</div>
			</form>
		</div>
	{{end}}
</div>
{{ end }}
